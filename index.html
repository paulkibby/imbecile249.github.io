<!doctype html>
<html>
  <head>
    <title>imbecile249</title>
    <link
      rel="icon"
      type="image/png"
      href="favicon/favicon-96x96.png"
      sizes="96x96"
    />
    <link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
    <link rel="shortcut icon" href="favicon/favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="favicon/apple-touch-icon.png"
    />
    <link rel="manifest" href="favicon/site.webmanifest" />
    <link rel="stylesheet" href="css/249.css" />
  </head>
  <body>
    <img class="avatar"
      src="https://ltdfoto.ru/images/2026/01/28/d572de771a723a660fa5b73355f1d903.jpg"/>
    <h1>Imbecile249</h1>
    <h2>Web Developer</h2>
    <div class="cvr">
      <p>HTML,CSS,Python</p>
      <div class="container">
        <p>❤️Я люблю❤️:</p>
        <ul>
          <li>аниме</li>
          <li>кофе</li>
          <li>колледж</li>
        </ul>
      </div>
      <audio id="track" src="music/serenity - VIP Kiss .mp3"></audio>
      <div class="player">
        <button id="playPauseBtn" class="play-btn">▶</button>
        <div class="progress-container" id="progressContainer">
          <div class="progress-bar" id="progressBar"></div>
        </div>
       <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.1">
      </div>
      <ul>
        <li><a href="index2.html">Photo</a></li>
        <!--<li><a
          href="test.html"
          >Test</a></li>-->
      </ul>
        <a href=contact.html>Contact</a>   
    </div>

    <script>
      const audio = document.getElementById("track");
      const btn = document.getElementById("playPauseBtn");
      const progressBar = document.getElementById("progressBar");
      const container = document.getElementById("progressContainer");

      // 1. Кнопка Play/Pause
      btn.addEventListener("click", () => {
        if (audio.paused) {
          audio.play();
          btn.textContent = "| |";
        } else {
          audio.pause();
          btn.textContent = "▶";
        }
      });

      // 2. Обновление полоски прогресса
      let isSeeking = false;
      audio.addEventListener("timeupdate", () => {
        if (!isSeeking) {
          const percent = (audio.currentTime / audio.duration) * 100;
          progressBar.style.width = percent + "%";
        }
      });

      // 3. Перемотка кликом и перетаскиванием по полоске
      function seekToPosition(clientX) {
        const rect = container.getBoundingClientRect();
        const width = rect.width;
        const x = Math.max(0, Math.min(clientX - rect.left, width));
        const percent = (x / width) * 100;
        progressBar.style.width = percent + "%";
        if (audio.duration && !isNaN(audio.duration)) {
          audio.currentTime = (x / width) * audio.duration;
        }
      }
      container.addEventListener("click", (e) => seekToPosition(e.clientX));
      let wasPlaying = false;
      container.addEventListener("mousedown", (e) => {
        isSeeking = true;
        wasPlaying = !audio.paused;
        if (wasPlaying) audio.pause();
        seekToPosition(e.clientX);
      });
      document.addEventListener("mousemove", (e) => {
        if (isSeeking) seekToPosition(e.clientX);
      });
      function endSeek() {
        if (isSeeking && wasPlaying) audio.play();
        isSeeking = false;
      }
      document.addEventListener("mouseup", endSeek);
      document.addEventListener("mouseleave", endSeek);
      const volumeSlider = document.getElementById("volumeSlider");
      audio.volume = volumeSlider.value;
      volumeSlider.addEventListener('input', () => {
      audio.volume = volumeSlider.value;
      });
    </script>
  </body>
</html>
